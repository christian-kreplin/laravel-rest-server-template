# Laravel REST Server Template

This is a skeleton project for a Laravel REST Server. It's built using [DDEV](https://ddev.com/) and supposed to be used
in a dev environment.

The purpose of this project is to spin up a local environment that's working in a container and serves as a REST Server
as fast as possible. A example entity called "Products" is implemented to demonstrate the usage of the REST Server.
User Management such as registration, login and logout is implemented as well. API-Requests besides the user require the
Authentication by the usage of a Bearer Token.

## Caution (!)

This project with its default configuration is meant for **development purposes only** and should not be used in a
productive environment. It's wide open for malicious attacks. Non-Exhaustive list of what is **missing** or
**consciously disabled**:

-   Throttling / Rate Limiting
-   CORS-Protection

## Getting Started

First, install [DDEV](https://ddev.com/get-started/)

```bash
git clone git@github.com:christian-kreplin/laravel-rest-server-template.git
cd laravel-rest-server-template
ddev start
ddev setup
```

If you want to simply reset the database:

```bash
ddev reset-db
```

## Using the API

The file `insomnia.json` can be imported directly into Insomnia. All below described endpoints are part of the file.

### Authentication

The below routes are existing for user creation and authentication:

#### Create Account

-   Route: `/api/register`
-   Method: POST
-   Payload:

    ```json
    {
        "name": "foo",
        "email": "foo@bar.com",
        "password": "secret!"
    }
    ```

#### Login

-   Route: `/api/login`
-   Method: POST
-   Payload:

    ```json
    {
        "email": "foo@bar.com",
        "password": "secret!"
    }
    ```

#### Logout

-   Route: `/api/logout`
-   Method: POST

### Testing the API

The main entity in this project is called `Products`. All basic BREAD operations are enabled for this entity:

#### Browse

-   Route: `/api/products`
-   Method: GET

#### Read

-   Route: `/api/products/{id}`
-   Method: GET

#### Edit

-   Route: `/api/products/{id}`
-   Method: PUT
-   Payload:
    ```json
    {
        "price": 12
    }
    ```

#### Add

-   Route: `/api/products`
-   Method: POST
-   Payload:
    ```json
    {
        "name": "test add",
        "price": 20,
        "description": "Lorem Ipsum"
    }
    ```

#### Delete

-   Route: `/api/products/{id}`
-   Method: DELETE

#### Computed Data

There are some automatic generated fields per Record and some adjustments in the return. The transformations can be looked up here: `app/Http/Resources/ProductResource.php`

### Autogenerated Data (Seeder)

There is a command to generate some demo data:

`ddev php artisan db:seed`

## Credits

A big part of this Repository is based on the tutorial of [Ian Kumu](https://dev.to/iankumu)
on [dev.to](https://dev.to). Follow this link for
details: [Tutorial on dev.to](https://dev.to/iankumu/how-to-build-a-rest-api-with-laravel-a-beginners-guide-2fjm).
